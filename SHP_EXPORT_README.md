# üóÉÔ∏è ArcGIS SHP –ï–∫—Å–ø–æ—Ä—Ç –∑ @mapbox/shp-write

## üìã –û–≥–ª—è–¥

–ú–æ–¥—É–ª—å ArcGIS –µ–∫—Å–ø–æ—Ä—Ç—É —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—É—á–∞—Å–Ω—É –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É **@mapbox/shp-write** –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö SHP —Ñ–∞–π–ª—ñ–≤, —è–∫—ñ –º–æ–∂–Ω–∞ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ ArcGIS, QGIS —Ç–∞ —ñ–Ω—à–∏—Ö –ì–Ü–° –ø—Ä–æ–≥—Ä–∞–º–∞—Ö.

## ‚ú® –ù–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è @mapbox/shp-write –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö SHP —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è .shp, .shx, .dbf —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ñ .prj —Ñ–∞–π–ª–∏ –∑ –ø—Ä–æ–µ–∫—Ü—ñ—î—é WGS84
- ‚úÖ –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ ArcGIS Pro/Desktop —Ç–∞ QGIS
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–æ—á–æ–∫ —Ç–∞ –ø–æ–ª—ñ–≥–æ–Ω—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –µ–∫—Å–ø–æ—Ä—Ç—É
```
site_name_ArcGIS_SHP.zip
‚îú‚îÄ‚îÄ points.shp          # –§–∞–π–ª —Ç–æ—á–æ–∫ (–≥–µ–æ–º–µ—Ç—Ä—ñ—è)
‚îú‚îÄ‚îÄ points.shx          # –Ü–Ω–¥–µ–∫—Å —Ç–æ—á–æ–∫
‚îú‚îÄ‚îÄ points.dbf          # –ê—Ç—Ä–∏–±—É—Ç–∏ —Ç–æ—á–æ–∫
‚îú‚îÄ‚îÄ points.prj          # –ü—Ä–æ–µ–∫—Ü—ñ—è —Ç–æ—á–æ–∫
‚îú‚îÄ‚îÄ polygon.shp         # –§–∞–π–ª –ø–æ–ª—ñ–≥–æ–Ω—É (–≥–µ–æ–º–µ—Ç—Ä—ñ—è)
‚îú‚îÄ‚îÄ polygon.shx         # –Ü–Ω–¥–µ–∫—Å –ø–æ–ª—ñ–≥–æ–Ω—É
‚îú‚îÄ‚îÄ polygon.dbf         # –ê—Ç—Ä–∏–±—É—Ç–∏ –ø–æ–ª—ñ–≥–æ–Ω—É
‚îú‚îÄ‚îÄ polygon.prj         # –ü—Ä–æ–µ–∫—Ü—ñ—è –ø–æ–ª—ñ–≥–æ–Ω—É
‚îú‚îÄ‚îÄ combined.geojson    # –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π GeoJSON
‚îú‚îÄ‚îÄ combined.prj        # –ü—Ä–æ–µ–∫—Ü—ñ—è –¥–ª—è GeoJSON
‚îú‚îÄ‚îÄ UTM_Zone_36N.prj    # UTM –ø—Ä–æ–µ–∫—Ü—ñ—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å
‚îú‚îÄ‚îÄ points_style.lyr    # –°—Ç–∏–ª—ñ ArcGIS
‚îî‚îÄ‚îÄ README.txt          # –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è
```

## üéØ –ê—Ç—Ä–∏–±—É—Ç–∏ –¥–∞–Ω–∏—Ö

### –¢–æ—á–∫–∏ (points.shp)
- **NAME** - —Ç–∏–ø —Ç–æ—á–∫–∏ (LM, BM, SP, TP1, TP2...)
- **TYPE** - –¥—É–±–ª—ñ–∫–∞—Ç —Ç–∏–ø—É –¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ
- **UTM_X** - X –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤ UTM (–æ–∫—Ä—É–≥–ª–µ–Ω–∞)
- **UTM_Y** - Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤ UTM (–æ–∫—Ä—É–≥–ª–µ–Ω–∞)

### –ü–æ–ª—ñ–≥–æ–Ω (polygon.shp)
- **NAME** - –Ω–∞–∑–≤–∞ –¥—ñ–ª—è–Ω–∫–∏
- **AREA_HA** - –ø–ª–æ—â–∞ –≤ –≥–µ–∫—Ç–∞—Ä–∞—Ö
- **PERIMETER** - –ø–µ—Ä–∏–º–µ—Ç—Ä –≤ –º–µ—Ç—Ä–∞—Ö

## üó∫Ô∏è –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ñ —Å–∏—Å—Ç–µ–º–∏

### WGS84 (–æ—Å–Ω–æ–≤–Ω–∞)
- **–§–æ—Ä–º–∞—Ç**: –ì–µ–æ–≥—Ä–∞—Ñ—ñ—á–Ω—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ (—à–∏—Ä–æ—Ç–∞/–¥–æ–≤–≥–æ—Ç–∞)
- **–û–¥–∏–Ω–∏—Ü—ñ**: –ì—Ä–∞–¥—É—Å–∏
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ —Ä—ñ–∑–Ω–∏–º–∏ –ì–Ü–°
- **EPSG –∫–æ–¥**: 4326

### UTM (–¥–æ–¥–∞—Ç–∫–æ–≤–∞)
- **–§–æ—Ä–º–∞—Ç**: –ü—Ä–æ–µ–∫—Ü—ñ–π–Ω—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏
- **–û–¥–∏–Ω–∏—Ü—ñ**: –ú–µ—Ç—Ä–∏
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**: –¢–æ—á–Ω—ñ –ª–æ–∫–∞–ª—å–Ω—ñ –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è
- **–ó–æ–Ω–∏**: 34N-40N (–¥–ª—è –£–∫—Ä–∞—ó–Ω–∏)

## üöÄ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### 1. –í FieldCalc
1. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —Ç–æ—á–æ–∫
2. –û–±–µ—Ä—ñ—Ç—å UTM –∑–æ–Ω—É
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ï–∫—Å–ø–æ—Ä—Ç" ‚Üí "ArcGIS" ‚Üí "SHP –ê—Ä—Ö—ñ–≤ (ZIP)"
4. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è ZIP —Ñ–∞–π–ª –∑ —É—Å—ñ–º–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏

### 2. –í ArcGIS Pro
1. –†–æ–∑–ø–∞–∫—É–π—Ç–µ ZIP –∞—Ä—Ö—ñ–≤
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ ArcGIS Pro
3. Add Data ‚Üí –æ–±–µ—Ä—ñ—Ç—å .shp —Ñ–∞–π–ª–∏
4. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∏–∑–Ω–∞—á–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ .prj —Ñ–∞–π–ª—ñ–≤
5. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ points_style.lyr –¥–ª—è —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó

### 3. –í QGIS
1. –†–æ–∑–ø–∞–∫—É–π—Ç–µ ZIP –∞—Ä—Ö—ñ–≤
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ QGIS
3. Layer ‚Üí Add Layer ‚Üí Add Vector Layer
4. –û–±–µ—Ä—ñ—Ç—å .shp —Ñ–∞–π–ª–∏
5. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∏–∑–Ω–∞—á–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
```html
<!-- CDN –≤–µ—Ä—Å—ñ—è (–æ—Å–Ω–æ–≤–Ω–∞) -->
<script src="https://unpkg.com/@mapbox/shp-write@0.3.3/shpwrite.js"></script>

<!-- –õ–æ–∫–∞–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è (—Ä–µ–∑–µ—Ä–≤–Ω–∞) -->
<script src="shpwrite.js"></script>
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫–æ–¥—ñ
```javascript
// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è SHP –¥–ª—è —Ç–æ—á–æ–∫
const pointsGeoJSON = { type: 'FeatureCollection', features: pointFeatures };
const pointsShpFiles = shpwrite.write([pointsGeoJSON], 'POINT');

// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è SHP –¥–ª—è –ø–æ–ª—ñ–≥–æ–Ω—É
const polygonGeoJSON = { type: 'FeatureCollection', features: [polygonFeature] };
const polygonShpFiles = shpwrite.write([polygonGeoJSON], 'POLYGON');

// –î–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ ZIP –∞—Ä—Ö—ñ–≤—É
Object.keys(pointsShpFiles).forEach(fileName => {
    if (fileName.endsWith('.shp') || fileName.endsWith('.shx') || fileName.endsWith('.dbf')) {
        const newName = fileName.replace(/^\w+/, 'points');
        zip.file(newName, pointsShpFiles[fileName]);
    }
});
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏
–î–æ–¥–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤–∏–π –º–æ–¥—É–ª—å `test-arcgis-export.js` —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î:
- ‚úÖ –ù–∞—è–≤–Ω—ñ—Å—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è SHP —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ñ–≤
- ‚úÖ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –µ–∫—Å–ø–æ—Ä—Ç—É

### –†—É—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `test-shp-export.html` –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–¢–µ—Å—Ç—É–≤–∞—Ç–∏ SHP –µ–∫—Å–ø–æ—Ä—Ç"
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –ø–æ–º–∏–ª–∫–∏
4. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è —Ç–µ—Å—Ç–æ–≤–∏–π ZIP —Ñ–∞–π–ª

## üêõ –£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞ "shp-write –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ"
```javascript
// –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
if (!window.shpwrite) {
    console.error('shp-write –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ');
    // –°–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É
}
```

### –ü–æ–º–∏–ª–∫–∞ "JSZip –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ"
```javascript
// –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å JSZip
if (!window.JSZip) {
    console.error('JSZip –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ');
    // –î–æ–¥–∞–π—Ç–µ <script src="https://unpkg.com/jszip@3.10.1/dist/jszip.min.js"></script>
}
```

### –§–∞–π–ª–∏ –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è –≤ ArcGIS
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —î –≤—Å—ñ —Ñ–∞–π–ª–∏ (.shp, .shx, .dbf, .prj)
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —Ñ–∞–π–ª–∏ –Ω–µ –ø–æ—à–∫–æ–¥–∂–µ–Ω—ñ
3. –°–ø—Ä–æ–±—É–π—Ç–µ –≤—ñ–¥–∫—Ä–∏—Ç–∏ combined.geojson —è–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- [@mapbox/shp-write](https://github.com/mapbox/shp-write) - –æ—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- [Shapefile Format](https://en.wikipedia.org/wiki/Shapefile) - —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ñ–æ—Ä–º–∞—Ç—É
- [ArcGIS Pro Documentation](https://pro.arcgis.com/en/pro-app/latest/help/data/shapefiles/working-with-shapefiles-in-arcgis-pro.htm)

### –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```javascript
// –ü—Ä–æ—Å—Ç–∏–π –µ–∫—Å–ø–æ—Ä—Ç —Ç–æ—á–æ–∫
const points = [
    { type: 'Feature', properties: { name: 'Point 1' }, geometry: { type: 'Point', coordinates: [30.5, 50.4] }}
];
const shpFiles = shpwrite.write([{ type: 'FeatureCollection', features: points }], 'POINT');

// –ï–∫—Å–ø–æ—Ä—Ç –ø–æ–ª—ñ–≥–æ–Ω—É
const polygon = {
    type: 'Feature',
    properties: { name: 'Area 1', area: 1000 },
    geometry: { type: 'Polygon', coordinates: [[[30.5, 50.4], [30.6, 50.4], [30.6, 50.5], [30.5, 50.5], [30.5, 50.4]]] }
};
const polygonShp = shpwrite.write([{ type: 'FeatureCollection', features: [polygon] }], 'POLYGON');
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä FieldCalc —Å—Ç–≤–æ—Ä—é—î –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω—ñ SHP —Ñ–∞–π–ª–∏, —è–∫—ñ:
- ‚úÖ –í—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è –≤ ArcGIS Pro/Desktop –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –í—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è –≤ QGIS –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
- ‚úÖ –ú—ñ—Å—Ç—è—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∞—Ç—Ä–∏–±—É—Ç–∏ —Ç–∞ –≥–µ–æ–º–µ—Ç—Ä—ñ—é
- ‚úÖ –ú–∞—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ñ —Å–∏—Å—Ç–µ–º–∏
- ‚úÖ –í–∫–ª—é—á–∞—é—Ç—å —Å—Ç–∏–ª—ñ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é

**–ê–≤—Ç–æ—Ä –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: –°–∏—Å—Ç–µ–º–∞ –Ω–∞ –±–∞–∑—ñ @mapbox/shp-write  
**–î–∞—Ç–∞**: –ì—Ä—É–¥–µ–Ω—å 2024  
**–í–µ—Ä—Å—ñ—è**: 2.0 (–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö SHP —Ñ–∞–π–ª—ñ–≤)